<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="keywords" content="">

    <title>旅游网站</title>

    <link rel="icon" type="image/x-icon" href="assets/img/logo/favicon.png">

    <link rel="stylesheet" th:href="@{/assets/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/all-fontawesome.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/flaticon.css}">
    <link rel="stylesheet" th:href="@{/assets/css/animate.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/magnific-popup.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/owl.carousel.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/nice-select.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/jquery-ui.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/jquery.timepicker.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/style.css}">
</head>
<body class="home-2">

<!--<div class="preloader">-->
<!--    <div class="loader">-->
<!--        <span style="&#45;&#45;i:1;"></span>-->
<!--        <span style="&#45;&#45;i:2;"></span>-->
<!--        <span style="&#45;&#45;i:3;"></span>-->
<!--        <span style="&#45;&#45;i:4;"></span>-->
<!--        <span style="&#45;&#45;i:5;"></span>-->
<!--        <span style="&#45;&#45;i:6;"></span>-->
<!--        <span style="&#45;&#45;i:7;"></span>-->
<!--        <span style="&#45;&#45;i:8;"></span>-->
<!--        <span style="&#45;&#45;i:9;"></span>-->
<!--        <span style="&#45;&#45;i:10;"></span>-->
<!--        <span style="&#45;&#45;i:11;"></span>-->
<!--        <span style="&#45;&#45;i:12;"></span>-->
<!--        <span style="&#45;&#45;i:13;"></span>-->
<!--        <span style="&#45;&#45;i:14;"></span>-->
<!--        <span style="&#45;&#45;i:15;"></span>-->
<!--        <span style="&#45;&#45;i:16;"></span>-->
<!--        <span style="&#45;&#45;i:17;"></span>-->
<!--        <span style="&#45;&#45;i:18;"></span>-->
<!--        <span style="&#45;&#45;i:19;"></span>-->
<!--        <span style="&#45;&#45;i:20;"></span>-->
<!--        <div class="loader-plane"></div>-->
<!--    </div>-->
<!--</div>-->


<header class="header">


    <div class="main-navigation">
        <nav class="navbar navbar-expand-lg" style="background: linear-gradient(to right, #87CEFA, #feb47b);">
            <div class="container">

                <div class="mobile-menu-right">
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#main_nav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-btn-icon"><i class="far fa-bars"></i></span>
                    </button>
                </div>
                <div class="collapse navbar-collapse" id="main_nav">
                    <ul class="navbar-nav">
                        <li class="nav-item " th:if="${!isUserLogin}">
                            <a class="nav-link " th:href="@{/toUserLogin}" >去登录</a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link " th:href="@{/user}" >主页</a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link  active" th:href="@{/listScenic}" >景点</a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link " th:href="@{/listScenicRouteFront}" >路线推荐</a>
                        </li>

                        <li class="nav-item ">
                            <a class="nav-link " th:href="@{/listHotel}" >酒店</a>
                        </li>


                        <li class="nav-item " th:if="${isUserLogin}">
                            <a class="nav-link " th:href="@{/listWish}" >收藏</a>
                        </li>
                        <li class="nav-item " th:if="${isUserLogin}">
                            <a class="nav-link " th:href="@{/listMySorder}" >景点订单</a>
                        </li>
                        <li class="nav-item " th:if="${isUserLogin}">
                            <a class="nav-link " th:href="@{/listMyHorder}" >酒店订单</a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link " th:href="@{/listNotice}" >公告</a>
                        </li>

                    </ul>


                    <div class="header-nav-right" th:if="${isUserLogin}">
                        <div class="header-account">
                            <div class="dropdown">
                                <div data-bs-toggle="dropdown" aria-expanded="false">
                                    <img th:src="'http://localhost:8088/'+${session.image}" alt="">
                                </div>
                                <ul class="dropdown-menu dropdown-menu-end">

                                    <li><a class="dropdown-item" th:href="@{/userProfile}"><i class="far fa-user"></i> 个人信息</a></li>
                                    <li><a class="dropdown-item" th:href="@{/userProfileSorder}"><i class="far fa-shopping-bag"></i> 景点订单</a></li>
                                    <li><a class="dropdown-item" th:href="@{/userProfileHorder}"><i class="far fa-clipboard-list"></i> 酒店订单</a></li>
                                    <li><a class="dropdown-item" th:href="@{/userProfileWish}"><i class="far fa-heart"></i> 我的收藏</a></li>
                                    <li><a class="dropdown-item" th:href="@{/userSetting}"><i class="far fa-cog"></i> 设置</a></li>
                                    <li><a class="dropdown-item" th:href="@{/userlogout}"><i class="far fa-sign-out"></i>退出登录</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!--  -->
                </div>
            </div>
        </nav>
    </div>
</header>

<main class="main" style="background: linear-gradient(to right, #87CEFA, #feb47b);">

    <div class="container">
        <h2 class="breadcrumb-title">景点详情</h2>
        <ul class="breadcrumb-menu">
        </ul>
    </div>


    <div class="tour-single py-120">
        <div class="container">
            <div class="listing-wrapper">
                <div class="row">
                    <div class="col-lg-8">
                        <div class="listing-content">
                            <div class="listing-slider owl-carousel owl-theme">
                                <img  th:each="img : ${imgList}" th:src="'http://localhost:8088/'+${img}" alt="">

                            </div>
                            <div class="listing-header">
                                <div class="listing-header-info">
                                    <h4 class="listing-title">[[${scenic.sname}]]</h4>
                                    <p class="listing-location"><i class="far fa-location-dot"></i> [[${scenic.address}]],[[${scenic.country}]]</p>
                                    <p class="listing-location"><i class="far fa-location-dot"></i>【<a href="https://map.baidu.com/" target="_blank">地图导航</a>】 </p>
                                    <!-- 地图容器 -->
                                    <div id="baidu-map" style="width: 100%; height: 300px;"></div>
                                </div>
                                <div class="listing-rate">
                                    <span class="badge"><i class="fal fa-star"></i> 5.0</span>
                                    <span class="listing-rate-type"></span>
                                    <span class="listing-rate-review"></span>
                                </div>
                            </div>
                            <div class="listing-item">
                                <div class="row">
                                    <div class="col-md-6 col-lg-3">
                                        <div class="listing-feature">
                                            <div class="listing-feature-icon">
                                                <i class="far fa-clock"></i>
                                            </div>
                                            <div class="listing-feature-content">
                                                <h6>营业时间</h6>
                                                <span>[[${scenic.stime}]]</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-lg-3">
                                        <div class="listing-feature">
                                            <div class="listing-feature-icon">
                                                <i class="far fa-calendar-days"></i>
                                            </div>
                                            <div class="listing-feature-content">
                                                <h6>价钱/人</h6>
                                                <span>[[${scenic.price}]]</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-lg-3">
                                        <div class="listing-feature">
                                            <div class="listing-feature-icon">
                                                <i class="far fa-users"></i>
                                            </div>
                                            <div class="listing-feature-content">
                                                <h6>城市</h6>
                                                <span>[[${scenic.country}]]</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-lg-3">
                                        <div class="listing-feature">
                                            <div class="listing-feature-icon">
                                                <i class="far fa-earth-americas"></i>
                                            </div>
                                            <div class="listing-feature-content">
                                                <h6>景点类型</h6>
                                                <span>[[${scenic.type}]]</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <h4 class="mb-3">景点环境图片</h4>
                            <div class="listing-slider owl-carousel owl-theme">
                                <img th:each="img : ${scenicImageList}" th:src="'http://localhost:8088/'+${img}" alt="">

                            </div>

                            <div class="listing-item">
                                <h4 class="mb-3">路线推荐</h4>
                                <p>[[${scenic.routeAddress}]]</p>


                            </div>

                            <div class="listing-item">
                                <h4 class="mb-3">景点简介</h4>
                                <p>[[${scenic.descr}]]</p>


                            </div>
                            <div class="listing-item">
<!--                                <h4 class="mb-3">游览路线</h4>-->
                                <div class="itinerary-content-box">
                                    <div class="itinerary-single-box" th:each="route : ${routeList}">
                                        <span>0[[${route.day}]]</span>
                                        <img th:src="'http://localhost:8088/'+${route.rimage}" alt="">
<!--                                        <h4>[[${route.rtime}]]</h4>-->
<!--                                        <h3>第[[${route.day}]]天 - [[${route.rname}]]</h3>-->
                                        <p>[[${route.descr}]]</p>
                                    </div>
                                    <!--<div class="itinerary-single-box">
                                        <span>02</span>
                                        <img src="assets/img/tour/02.jpg" alt="">
                                        <h4>09:00AM - 12:00PM</h4>
                                        <h3>DAY 02 - Norway City Visit</h3>
                                        <p>There are many variations of passages of Lorem Ipsum available, but
                                            the majority have suffered alteration in some form, by injected
                                            humour, or randomised words which don't look even slightly enim
                                            ipsam voluptatem quia voluptas
                                            believable.</p>
                                    </div>
                                    <div class="itinerary-single-box pb-0">
                                        <span>03</span>
                                        <img src="assets/img/tour/03.jpg" alt="">
                                        <h4>09:00AM - 12:00PM</h4>
                                        <h3>DAY 03 - Norway City Visit</h3>
                                        <p>There are many variations of passages of Lorem Ipsum available, but
                                            the majority have suffered alteration in some form, by injected
                                            humour, or randomised words which don't look even slightly enim
                                            ipsam voluptatem quia voluptas
                                            believable.</p>
                                    </div>-->
                                </div>
                            </div>

                            <div class="listing-item">
                                <h4 class="mb-3">评论</h4>
                                <div class="listing-rating-box">

                                    <div class="listing-review">

                                        <div class="listing-review-item" th:each="comment : ${commentList}">
                                            <div class="listing-review-author">
                                                <img th:src="'http://localhost:8088/'+${comment.cimage}" alt="">
                                                <div class="listing-review-author-info">
                                                    <div>
                                                        <h6>[[${comment.customer}]]</h6>
                                                        <span><i class="far fa-clock"></i>[[${#dates.format(comment.commentTime,'yyyy-MM-dd')}]]</span>
                                                    </div>
                                                    <div th:if="${comment.star == 5}" class="listing-review-author-rating">
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                    </div>
                                                    <div th:if="${comment.star == 4}" class="listing-review-author-rating">
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                    </div>
                                                    <div th:if="${comment.star == 3}" class="listing-review-author-rating">
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                    </div>
                                                    <div th:if="${comment.star == 2}" class="listing-review-author-rating">
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                    </div>
                                                    <div th:if="${comment.star == 1}" class="listing-review-author-rating">
                                                        <i class="fas fa-star"></i>
                                                    </div>
                                                </div>
                                            </div>
                                            <p>
                                                [[${comment.comment}]]
                                            </p>
                                            <div class="listing-review-reply">

                                                <div class="review-reaction">

                                                </div>
                                            </div>
                                        </div>

                                        <div class="text-center my-4">

                                        </div>
                                    </div>

                                    <div class="listing-review-form" th:if="${isUserLogin}">

                                        <h4>发表评论</h4>
                                        <form th:action="@{/addComment}">
                                            <div class="col-lg-12">
                                                <div class="form-group mb-3">
                                                    <label class="star-label">你的评分</label>
                                                    <div class="listing-review-form-star">
                                                        <div class="star-rating-wrapper">
                                                            <div class="star-rating-box">
                                                                <input type="radio" name="star" value="5" id="star-5"> <label for="star-5">&#9733;</label>
                                                                <input type="radio" name="star" value="4" id="star-4"> <label for="star-4">&#9733;</label>
                                                                <input type="radio" name="star" value="3" id="star-3"> <label for="star-3">&#9733;</label>
                                                                <input type="radio" name="star" value="2" id="star-2"> <label for="star-2">&#9733;</label>
                                                                <input type="radio" name="star" value="1" id="star-1"> <label for="star-1">&#9733;</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <input name="scenicId" th:value="${scenic.id}" type="hidden"/>
                                            <div class="form-group">
                                                <textarea name="comment" class="form-control" cols="30" rows="5" placeholder="写下你的评论"></textarea>
                                            </div>
                                            <button class="theme-btn" type="submit">发布</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="booking-sidebar listing-side-content">
                            <div class="booking-item">
                                <div class="listing-price">
                                    <h3 class="listing-price-tag">[[${scenic.sname}]]</h3>
                                    <div class="listing-price-amount">
                                        票价/人 <span>￥[[${scenic.price}]]</span>
                                    </div>
                                </div>
                                <div class="search-form">
                                    <form id="order_form" th:action="@{/addOrder}">
                                        <input th:value="${scenic.id}" name="sid" type="hidden"/>
                                        <div class="tour-search-wrapper">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <div class="search-form-date">
                                                            <div class="search-form-journey">
                                                                <label>开始日期</label>
                                                                <div class="form-group-icon">
                                                                    <input type="text" name="start" class="form-control date-picker journey-date">
                                                                    <i class="fal fa-calendar-days"></i>
                                                                </div>
                                                                <p class="journey-day-name"></p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <div class="search-form-date">
                                                            <div class="search-form-return">
                                                                <label>结束日期</label>
                                                                <div class="form-group-icon">
                                                                    <input type="text" name="end" class="form-control date-picker return-date">
                                                                    <i class="fal fa-calendar-days"></i>
                                                                </div>
                                                                <p class="return-day-name"></p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="form-group dropdown passenger-box">
                                                        <div class="passenger-class" role="menu" data-bs-toggle="dropdown" aria-expanded="false">
                                                            <label>人数</label>
                                                            <div class="form-group-icon">
                                                                <div class="passenger-total">
                                                                    <span class="passenger-total-room">1</span> 人

                                                                </div>
                                                                <i class="fal fa-user-plus"></i>
                                                            </div>

                                                        </div>
                                                        <div class="dropdown-menu dropdown-menu-end">

                                                            <div class="dropdown-item">
                                                                <div class="passenger-item">
                                                                    <div class="passenger-info">
                                                                        <h6>人数</h6>
                                                                    </div>
                                                                    <div class="passenger-qty">
                                                                        <button type="button" class="minus-btn"><i class="far fa-minus"></i></button>
                                                                        <input type="text" name="count" class="qty-amount passenger-room" value="1" readonly>
                                                                        <button type="button" class="plus-btn"><i class="far fa-plus"></i></button>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="listing-side-btn" th:if="${isUserLogin}">
                                                <a type="submit" onclick="document:order_form.submit();" class="theme-btn"><span class="far fa-shopping-bag" ></span>订购</a>
                                                <a th:href="@{'/addWish/'+${scenic.id}}" class="border-btn"><i class="far fa-heart"></i>收藏</a>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="listing-side-share">

                                </div>
                            </div>
                        </div>
<!--                        <div class="booking-sidebar listing-side-content mt-4">-->
<!--                            <h4 class="booking-title">为什么选择我们?</h4>-->
<!--                            <ul class="listing-side-list">-->
<!--                                <li><i class="far fa-dollar-sign"></i>最佳价格保证</li>-->
<!--                                <li><i class="far fa-headset"></i>24小时客户服务</li>-->
<!--                                <li><i class="far fa-globe"></i>精心挑选的旅游和活动</li>-->
<!--                                <li><i class="far fa-flag"></i>免费旅行保险</li>-->
<!--                                <li><i class="far fa-car"></i>舒适卫生的车辆</li>-->
<!--                            </ul>-->
<!--                        </div>-->
<!--                        <div class="booking-sidebar listing-side-content mt-4">-->
<!--                            <h4 class="booking-title">有问题?</h4>-->
<!--                            <p>可以拨打热线电话或者给我们发送邮件</p>-->
<!--                            <ul class="listing-side-list">-->
<!--                                <li><i class="far fa-phone"></i><a href="tel:+21234567897">+2 123 4567 897</a></li>-->
<!--                                <li><i class="far fa-envelope"></i><a href="/cdn-cgi/l/email-protection#721b1c141d32170a131f021e175c111d1f"><span class="__cf_email__" data-cfemail="e78e898188a7829f868a978b82c984888a">[12345678@qq.com]</span></a></li>-->
<!--                            </ul>-->
<!--                        </div>-->

                    </div>
                </div>
            </div>
        </div>
    </div>

</main>
<!--  -->




<a href="#" id="scroll-top"><i class="far fa-angle-up"></i></a>

<!-- 引入百度地图JS API -->
<script src="https://api.map.baidu.com/api?v=3.0&ak=tal182IQhLfxeOglj7f0ziBEspv5mty5"></script>
<script>
    // 百度地图初始化
    var map = new BMap.Map("baidu-map"); // 创建地图实例
    var point = new BMap.Point(116.404, 39.915); // 设置中心点坐标
    map.centerAndZoom(point, 15); // 初始化地图，设置缩放级别
    map.addControl(new BMap.NavigationControl()); // 添加导航控件

    // 获取后台数据动态显示地址
    // var address = "上海市黄浦区南京东路300号";
    var address = "[[${scenic.address}]]";
    var myGeo = new BMap.Geocoder();
    myGeo.getPoint(address, function(point) {
        if (point) {
            map.centerAndZoom(point, 15);
            map.addOverlay(new BMap.Marker(point)); // 添加标注
        } else {
            alert("地址解析失败!");
        }
    });
</script>


<script th:src="@{/assets/js/jquery-3.6.0.min.js}"></script>
<script th:src="@{/assets/js/modernizr.min.js}"></script>
<script th:src="@{/assets/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/assets/js/imagesloaded.pkgd.min.js}"></script>
<script th:src="@{/assets/js/jquery.magnific-popup.min.js}"></script>
<script th:src="@{/assets/js/isotope.pkgd.min.js}"></script>
<script th:src="@{/assets/js/jquery.appear.min.js}"></script>
<script th:src="@{/assets/js/jquery.easing.min.js}"></script>
<script th:src="@{/assets/js/owl.carousel.min.js}"></script>
<script th:src="@{/assets/js/counter-up.js}"></script>
<script th:src="@{/assets/js/masonry.pkgd.min.js}"></script>
<script th:src="@{/assets/js/jquery.nice-select.min.js}"></script>
<script th:src="@{/assets/js/jquery-ui.min.js}"></script>
<script th:src="@{/assets/js/jquery.timepicker.min.js}"></script>
<script th:src="@{/assets/js/wow.min.js}"></script>
<script th:src="@{/assets/js/main.js}"></script>
</body>
</html>
